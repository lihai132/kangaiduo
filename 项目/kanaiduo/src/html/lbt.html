<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
    <!-- <link rel="stylesheet" href="../css/base.css">
    <link rel="stylesheet" href="../sass/lbt.css"> -->
</head>

<body>

    <div class="lbt">
        <div class="list">
            <div class="center">
                <div class="list-dh">
                    <dl class="list-dh-dl">
                        <dt>
                            <img src="http://res.360kad.com/theme/default/img/product/2016new/quan.png" alt="">
                            <a href="">全部分类</a>
                            <ul class="list-dh-ul">
                                <li>
                                    <div>
                                        <a href="">专科用药</a>
                                    </div>
                                    <div class="line"></div>
                                    <div>
                                        <span><a href="">肾宝片</a></span>
                                        <span><a href="">阿胶</a></span>
                                    </div>
                                </li>
                                <li>
                                    <div><a href="">家庭常备</a></div>
                                    <div class="line"></div>
                                    <div>
                                        <span><a href="###">感冒</a></span>
                                        <span><a href="">腹泻</a></span>
                                    </div>
                                </li>
                                <li>
                                    <div><a href="">男科中心</a></div>
                                    <div class="line"></div>
                                    <div>
                                        <span><a href="">肾虚</a></span>
                                        <span><a href="">早泄</a></span>
                                    </div>
                                </li>
                                <li>
                                    <div><a href="">母婴乐园</a></div>
                                    <div class="line"></div>
                                    <div>
                                        <span><a href="">爱乐维</a></span>
                                        <span><a href="">补血</a></span>
                                    </div>
                                </li>
                                <li>
                                    <div><a href="">老年中心</a></div>
                                    <div class="line"></div>
                                    <div>
                                        <span><a href="">高血压</a></span>
                                        <span><a href="">风湿</a></span>
                                    </div>
                                </li>
                                <li>
                                    <div><a href="">美肤商城</a></div>
                                    <div class="line"></div>
                                    <div>
                                        <span><a href="">银屑病</a></span>
                                        <span><a href="">痤疮</a></span>
                                    </div>
                                </li>
                                <li>
                                    <div><a href="">滋补保健</a></div>
                                    <div class="line"></div>
                                    <div>
                                        <span><a href="">燕窝</a></span>
                                        <span><a href="">蜂蜜</a></span>
                                    </div>
                                </li>
                                <li>
                                    <div><a href="">幸福生活</a></div>
                                    <div class="line"></div>
                                    <div>
                                        <span><a href="">杜蕾斯</a></span>
                                        <span><a href="">冈本</a></span>
                                    </div>
                                </li>
                                <li>
                                    <div><a href="">器械商城</a></div>
                                    <div class="line"></div>
                                    <div>
                                        <span><a href="">血压计</a></span>
                                        <span><a href="">松下</a></span>
                                    </div>
                                </li>
                                <li>
                                    <div><a href="">美妆个护</a></div>
                                    <div class="line"></div>
                                    <div>
                                        <span><a href="">面膜</a></span>
                                        <span><a href="">润肤</a></span>
                                    </div>
                                </li>
                            </ul>
                        </dt>
                        <dd><a href="">首页</a></dd>
                        <dd><a href="">药品</a></dd>
                        <dd><a href="">非药品</a></dd>
                        <dd><a href="">男科中心</a></dd>
                        <dd><a href="">美肤商城</a></dd>
                        <dd class="d7"><a href="">资讯中心 <img src="img/三角形_wps图片.png" alt=""></a>
                            <div class="dd-nove1">

                                <div>
                                    <ul>
                                        <li><a href="">健康指南</a></li>
                                        <li><a href="">健康资讯</a></li>
                                        <li><a href="">皮肤科资讯</a></li>
                                        <li><a href="">呼吸科资讯</a></li>
                                    </ul>
                                </div>
                                <div>
                                    <ul>
                                        <li><a href="">妇科资讯</a></li>
                                        <li><a href="">两性健康</a></li>
                                        <li><a href="">健康问答</a></li>
                                        <li><a href="">减肥瘦身</a></li>
                                    </ul>
                                </div>

                            </div>
                        </dd>
                        <dd><a href="">慢性病专场</a></dd>
                        <dd class="d9">
                            <a href="">掌上康爱多<img src="img/三角形_wps图片.png" alt=""></a>

                            <div class="dd-nove2">
                                <div>
                                    <img src="http://res.360kad.com/theme/default/img/product/2016new/hand.png?v201608"
                                        alt="">
                                    <p>4件装仅9.9元</p>
                                    <p>APP首单减10元</p>
                                </div>
                                <div>
                                    <img src="http://res.360kad.com/theme/default/img/product/2018new/hand2.jpg?54"
                                        alt="">
                                    <p>关注微信</p>
                                    <p>抽现金红包</p>
                                </div>
                            </div>
                        </dd>
                        <dd><a href="">超值秒杀</a></dd>
                    </dl>
                </div>
            </div>
        </div>

        <div class="lbt-nav">
            <div class="lbt-nav-left"></div>
            <div class="right">
                <div class="right-d1">
                    <ul>
                        <li>
                            <img src="img/zheng1.png" alt="">
                            <p>正品保证</p>
                        </li>
                        <li>
                            <img src="img/zheng2.png" alt="">
                            <p>专业药师</p>
                        </li>
                        <li>
                            <img src="img/sou.png" alt="">
                            <p>厂家授权 </p>
                        </li>
                        <li>
                            <img src="img/zheng4.png" alt="">
                            <p>隐私包装</p>
                        </li>
                        <li>
                            <img src="img/zheng5.png" alt="">
                            <p>货到付款</p>
                        </li>
                        <li>
                            <img src="img/zheng3.png" alt="">
                            <p>满78包邮</p>
                        </li>
                    </ul>
                </div>

                <div class="right-d2">
                    <span>药师查询</span>
                    <span>400-8811-020</span>
                </div>

                <div class="right-d3"><a href="">监管信息发布</a></div>

                <div class="right-d4"><a href=""><img
                            src="http://image.360kad.com/group2/M00/16/B1/CgAgFFoD-tOAMGfCAABCbkCYe7M761.jpg"
                            alt=""></a></div>
            </div>


        </div>
    </div>
    <!-- <img src="lbt1.html" alt=""> -->
    <!-- <script src="../js/jquery-3.4.1.js"></script>
    <script src="../js/lbt.js"></script> -->
    <script>
        $(function () {
            $(".lbt-nav-left").load("html/lbt1.html", function () {

            });

            var imgs = [
                "http://image.360kad.com/group2/M00/C5/13/CgAgFF1jhwiAXO6zAAFmQdpelV4654.jpg",
                "http://image.360kad.com/group2/M00/C5/1B/CgAgFV1jk_iABgtWAAGZyaguHmQ777.jpg",
                "http://image.360kad.com/group2/M00/C2/40/CgAgFF1UwqSAO1xsAAMHokT9jqU528.jpg",
                "http://image.360kad.com/group2/M00/C4/A8/CgAgFF1fxBmAKJ0hAAL7Fa8coPs064.jpg",
                "http://image.360kad.com/group2/M00/C4/A7/CgAgFF1fusWAOo7EAAF7MJxuMQk084.jpg",
                "http://image.360kad.com/group2/M00/C4/48/CgAgFV1ea_iAUHlAAAEJN_Gd2mo457.jpg",
                "http://image.360kad.com/group2/M00/C3/9C/CgAgFF1cq6-ACCEvAALQ8sVZLPY403.jpg"
            ];
            //class 构造函数
            class Lbt {
                constructor(json) {
                    this.json = json;
                }

                //初始化
                init() {
                    this.addList();
                    this.createListnone();
                    this.addListnone();





                }


                //建立侧边栏隐藏部分
                createListnone() {
                    let data = this.json;
                    console.log(data);

                    function createnone(data) {
                        let html1 = data.map((e) => {
                            return ` 
                    <dl>
                         <dt><a href="">${e.title}</a></dt>

                      <dd>
    
                      ${e.text.map((ele)=>{
                          return `| <a href="">${ele}</a>`
                      }).join("")}
                           
        
                      </dd>
    
    
                     </dl>`
                        }).join("");
                        let list = $("<div class='list-none'></div>");


                        list.append(html1);
                        return list;
                    }





                    let list1 = data.slice(0, 15);
                    let none1 = createnone(list1);


                    let list2 = data.slice(15, 20);
                    let none2 = createnone(list2);


                    let list3 = data.slice(20, 31);
                    let none3 = createnone(list3);

                    let list4 = data.slice(31, 35);
                    let none4 = createnone(list4);

                    let list5 = data.slice(35, 52);
                    let none5 = createnone(list5);

                    let list6 = data.slice(52, 68);
                    let none6 = createnone(list6);

                    let list7 = data.slice(68, 81);
                    let none7 = createnone(list7);

                    let list8 = data.slice(81, 89);
                    let none8 = createnone(list8);

                    let list9 = data.slice(89, 103);
                    let none9 = createnone(list9);

                    let list10 = data.slice(103, 112);
                    let none10 = createnone(list10);

                    let nonebox = $("<div class='none-box'></div>");
                    nonebox.append(none1);
                    nonebox.append(none2);
                    nonebox.append(none3);
                    nonebox.append(none4);
                    nonebox.append(none5);
                    nonebox.append(none6);
                    nonebox.append(none7);
                    nonebox.append(none8);
                    nonebox.append(none9);
                    nonebox.append(none10);

                    $(".lbt-nav").append(nonebox);








                }



                //效果区
                //导航部分鼠标移入移出效果
                addList() {
                    $(".list-dh-dl").find(".d7").hover(function () {
                        $(this).find(".dd-nove1").css({
                            "display": "block"
                        });


                    }, function () {
                        console.log("+++");
                        $(this).find(".dd-nove1").css({
                            "display": "none"
                        });
                    })

                    $(".list-dh-dl").find(".d9").hover(function () {
                        $(this).find(".dd-nove2").css({
                            "display": "block"
                        });


                    }, function () {
                        console.log("+++");
                        $(this).find(".dd-nove2").css({
                            "display": "none"
                        });
                    })
                }


                //侧边栏部分鼠标移入移出效果
                addListnone() {

                    // console.log($(".list-dh-ul").find("li"));

                    $(".list-dh-ul").find("li").hover(function () {

                            // console.log($(this).index());
                            let index = $(this).index();
                            $(this).addClass("l1");
                            $(this).siblings().removeClass("l1");
                            $(".none-box >.list-none").eq(index).css({
                                "display": "block",

                            });




                            $(".none-box").css({

                                "z-index": "6"
                            });

                            $(".none-box >.list-none").eq(index).hover(function () {
                                    $(".none-box >.list-none").eq(index).css({
                                        "display": "block",

                                    });

                                    $(".none-box").css({

                                        "z-index": "6"
                                    });
                                },
                                function () {
                                    $(".none-box >.list-none").eq(index).css({
                                        "display": "none",
                                        "z-index": "0"
                                    });

                                    $(".none-box").css({

                                        "z-index": "0"
                                    });
                                }
                            )


                        },
                        function () {
                            let index = $(this).index();
                            $(".none-box >.list-none").eq(index).css({
                                "display": "none",
                                "z-index": "0"
                            });

                            $(".none-box").css({

                                "z-index": "0"
                            });

                            $(this).removeClass("l1");

                        })
                }





            }




            //实例对象

            $.getJSON("api/cbl.json", (json) => {
                let lbt = new Lbt(json);

                lbt.init();

            })







        })
    </script>

</body>

</html>